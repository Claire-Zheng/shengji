{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.tsx"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n","\"use strict\";\n\nconst e = React.createElement;\nconst CARD_LUT: { [details: string]: ICardInfo } = {};\nCARDS.forEach((c) => {\n  CARD_LUT[c.value] = c;\n});\n\ninterface IInitializeProps {\n  state: IInitializePhase;\n  cards: string[];\n  name: string;\n}\nclass Initialize extends React.Component<IInitializeProps, {}> {\n  constructor(props: IInitializeProps) {\n    super(props);\n    this.setGameMode = this.setGameMode.bind(this);\n    this.startGame = this.startGame.bind(this);\n    this.setKittySize = this.setKittySize.bind(this);\n  }\n\n  setGameMode(evt: any) {\n    evt.preventDefault();\n    if (evt.target.value == \"Tractor\") {\n      send({ Action: { SetGameMode: \"Tractor\" } });\n    } else {\n      send({\n        Action: {\n          SetGameMode: {\n            FindingFriends: {\n              num_friends: 0,\n              friends: [],\n            },\n          },\n        },\n      });\n    }\n  }\n\n  setKittySize(evt: any) {\n    evt.preventDefault();\n    if (evt.target.value != \"\") {\n      const size = parseInt(evt.target.value, 10);\n      send({\n        Action: {\n          SetKittySize: size,\n        },\n      });\n    }\n  }\n\n  startGame(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"StartGame\" });\n  }\n\n  render() {\n    const mode_as_string =\n      this.props.state.game_mode == \"Tractor\" ? \"Tractor\" : \"FindingFriends\";\n    return (\n      <div>\n        <GameMode game_mode={this.props.state.game_mode} />\n        <Players\n          players={this.props.state.players}\n          landlord={this.props.state.landlord}\n          next={null}\n          movable={true}\n          name={this.props.name}\n        />\n        <p>\n          Send the link to other players to allow them to join the game:{\" \"}\n          <a href={window.location.href} target=\"_blank\">\n            <code>{window.location.href}</code>\n          </a>\n        </p>\n        <select value={mode_as_string} onChange={this.setGameMode}>\n          <option value=\"Tractor\">升级 / Tractor</option>\n          <option value=\"FindingFriends\">找朋友 / Finding Friends</option>\n        </select>\n        <NumDecksSelector\n          num_decks={this.props.state.num_decks}\n          players={this.props.state.players}\n        />\n        {this.props.state.players.length >= 4 ? (\n          <button onClick={this.startGame}>Start game</button>\n        ) : (\n          <p>Waiting for players...</p>\n        )}\n        <Kicker players={this.props.state.players} />\n        <LandlordSelector\n          players={this.props.state.players}\n          landlord={this.props.state.landlord}\n        />\n        <RankSelector\n          players={this.props.state.players}\n          name={this.props.name}\n          num_decks={this.props.state.num_decks}\n        />\n      </div>\n    );\n  }\n}\n\ninterface IDrawProps {\n  state: IDrawPhase;\n  name: string;\n  cards: string[];\n}\ninterface IDrawState {\n  selected: string[];\n  autodraw: boolean;\n}\nclass Draw extends React.Component<IDrawProps, IDrawState> {\n  private could_draw: boolean = false;\n  private timeout: number | null = null;\n\n  constructor(props: IDrawProps) {\n    super(props);\n    this.state = {\n      selected: [],\n      autodraw: true,\n    };\n    this.setSelected = this.setSelected.bind(this);\n    this.makeBid = this.makeBid.bind(this);\n    this.drawCard = this.drawCard.bind(this);\n    this.onAutodrawClicked = this.onAutodrawClicked.bind(this);\n  }\n\n  setSelected(new_selected: string[]) {\n    this.setState({ selected: new_selected });\n  }\n\n  makeBid(evt: any) {\n    evt.preventDefault();\n    const counts: { [card: string]: number } = {};\n    this.state.selected.forEach((c) => (counts[c] = (counts[c] || 0) + 1));\n    if (Object.keys(counts).length != 1) {\n      return;\n    }\n\n    const players: { [player_id: number]: IPlayer } = {};\n    this.props.state.players.forEach((p) => {\n      players[p.id] = p;\n    });\n\n    for (const c in counts) {\n      let already_bid = 0;\n      this.props.state.bids.forEach((bid) => {\n        if (players[bid.id].name == this.props.name && bid.card == c) {\n          already_bid = already_bid < bid.count ? bid.count : already_bid;\n        }\n      });\n\n      send({ Action: { Bid: [c, counts[c] + already_bid] } });\n      this.setSelected([]);\n    }\n  }\n\n  drawCard() {\n    const can_draw =\n      this.props.state.players[this.props.state.position].name ==\n      this.props.name;\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n    if (can_draw) {\n      send({ Action: \"DrawCard\" });\n    }\n  }\n\n  pickUpKitty(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"PickUpKitty\" });\n  }\n\n  onAutodrawClicked(evt: any) {\n    this.setState({\n      autodraw: evt.target.checked,\n    });\n    if (evt.target.checked) {\n      this.drawCard();\n    } else {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    }\n  }\n\n  render() {\n    const can_draw =\n      this.props.state.players[this.props.state.position].name ==\n        this.props.name && this.props.state.deck.length > 0;\n    if (\n      can_draw &&\n      !this.could_draw &&\n      this.timeout == null &&\n      this.state.autodraw\n    ) {\n      this.timeout = setTimeout(() => {\n        this.drawCard();\n      }, 250);\n    }\n    this.could_draw = can_draw;\n\n    let next = this.props.state.players[this.props.state.position].id;\n    let next_idx = this.props.state.position;\n    if (this.props.state.deck.length == 0 && this.props.state.bids.length > 0) {\n      next = this.props.state.bids[this.props.state.bids.length - 1].id;\n\n      this.props.state.players.forEach((player, idx) => {\n        if (player.id == next) {\n          next_idx = idx;\n        }\n      });\n    }\n\n    const players: { [player_id: number]: IPlayer } = {};\n    this.props.state.players.forEach((p) => {\n      players[p.id] = p;\n    });\n\n    const my_bids: { [card: string]: number } = {};\n    this.props.state.bids.forEach((bid) => {\n      if (players[bid.id].name == this.props.name) {\n        const existing_bid = my_bids[bid.card] || 0;\n        my_bids[bid.card] = existing_bid < bid.count ? bid.count : existing_bid;\n      }\n    });\n    let cards_not_bid = [...this.props.cards];\n\n    Object.keys(my_bids).forEach((card) => {\n      const count = my_bids[card] || 0;\n      for (let i = 0; i < count; i = i + 1) {\n        const card_idx = cards_not_bid.indexOf(card);\n        if (card_idx >= 0) {\n          cards_not_bid.splice(card_idx, 1);\n        }\n      }\n    });\n\n    return (\n      <div>\n        <GameMode game_mode={this.props.state.game_mode} />\n        <Players\n          players={this.props.state.players}\n          landlord={this.props.state.landlord}\n          next={next}\n          name={this.props.name}\n        />\n        <div>\n          <h2>Bids</h2>\n          {this.props.state.bids.map((bid, idx) => {\n            let name = \"unknown\";\n            this.props.state.players.forEach((player) => {\n              if (player.id == bid.id) {\n                name = player.name;\n              }\n            });\n            return (\n              <LabeledPlay\n                label={name}\n                key={idx}\n                cards={Array(bid.count).fill(bid.card)}\n              />\n            );\n          })}\n        </div>\n        <button\n          onClick={(evt: any) => {\n            evt.preventDefault();\n            this.drawCard();\n          }}\n          disabled={!can_draw}\n        >\n          Draw card\n        </button>\n        <label>\n          <input\n            type=\"checkbox\"\n            name=\"autodraw\"\n            checked={this.state.autodraw}\n            onChange={this.onAutodrawClicked}\n          />\n        </label>\n        <button\n          onClick={this.makeBid}\n          disabled={this.state.selected.length == 0}\n        >\n          Make bid\n        </button>\n        <button\n          onClick={this.pickUpKitty}\n          disabled={\n            this.props.state.deck.length > 0 ||\n            this.props.state.bids.length == 0\n          }\n        >\n          Pick up cards from the bottom\n        </button>\n        <Cards\n          cards={cards_not_bid}\n          selected={this.state.selected}\n          setSelected={this.setSelected}\n        />\n      </div>\n    );\n  }\n}\n\ninterface IExchangeProps {\n  state: IExchangePhase;\n  name: string;\n  cards: string[];\n}\ninterface IExchangeState {\n  friends: IFriend[];\n}\nclass Exchange extends React.Component<IExchangeProps, IExchangeState> {\n  constructor(props: IExchangeProps) {\n    super(props);\n    this.moveCardToKitty = this.moveCardToKitty.bind(this);\n    this.moveCardToHand = this.moveCardToHand.bind(this);\n    this.startGame = this.startGame.bind(this);\n    this.pickFriends = this.pickFriends.bind(this);\n    this.state = {\n      friends: [],\n    };\n\n    this.fixFriends = this.fixFriends.bind(this);\n  }\n\n  fixFriends() {\n    if (this.props.state.game_mode != \"Tractor\") {\n      const game_mode = this.props.state.game_mode.FindingFriends;\n      const num_friends = game_mode.num_friends;\n      const prop_friends = game_mode.friends;\n      if (num_friends != this.state.friends.length) {\n        if (prop_friends.length != num_friends) {\n          const friends = [...this.state.friends];\n          while (friends.length < num_friends) {\n            friends.push({\n              card: \"\",\n              skip: 0,\n              player_id: null,\n            });\n          }\n          while (friends.length > num_friends) {\n            friends.pop();\n          }\n          this.setState({ friends: friends });\n        } else {\n          this.setState({ friends: prop_friends });\n        }\n      }\n    } else {\n      if (this.state.friends.length != 0) {\n        this.setState({ friends: [] });\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.fixFriends();\n  }\n\n  componentDidUpdate() {\n    this.fixFriends();\n  }\n\n  moveCardToKitty(card: string) {\n    send({ Action: { MoveCardToKitty: card } });\n  }\n\n  moveCardToHand(card: string) {\n    send({ Action: { MoveCardToHand: card } });\n  }\n\n  startGame(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"BeginPlay\" });\n  }\n\n  pickFriends(evt: any) {\n    evt.preventDefault();\n    if (\n      this.props.state.game_mode != \"Tractor\" &&\n      this.props.state.game_mode.FindingFriends.num_friends ==\n        this.state.friends.length\n    ) {\n      send({\n        Action: {\n          SetFriends: this.state.friends,\n        },\n      });\n    }\n  }\n\n  render() {\n    let landlord_idx = 0;\n    this.props.state.players.forEach((player, idx) => {\n      if (player.id == this.props.state.landlord) {\n        landlord_idx = idx;\n      }\n    });\n    if (this.props.state.players[landlord_idx].name == this.props.name) {\n      return (\n        <div>\n          <GameMode game_mode={this.props.state.game_mode} />\n          <Players\n            players={this.props.state.players}\n            landlord={this.props.state.landlord}\n            next={this.props.state.landlord}\n            name={this.props.name}\n          />\n          <Trump trump={this.props.state.trump} />\n          {this.props.state.game_mode != \"Tractor\" ? (\n            <div>\n              <Friends game_mode={this.props.state.game_mode} />\n              {this.state.friends.map((friend, idx) => {\n                const onChange = (x: IFriend) => {\n                  const new_friends = [...this.state.friends];\n                  new_friends[idx] = x;\n                  this.setState({ friends: new_friends });\n                };\n                return (\n                  <FriendSelect\n                    onChange={onChange}\n                    key={idx}\n                    friend={friend}\n                    trump={this.props.state.trump}\n                    num_decks={this.props.state.num_decks}\n                  />\n                );\n              })}\n              <button onClick={this.pickFriends}>Pick friends</button>\n            </div>\n          ) : null}\n          <h2>Your hand</h2>\n          <div className=\"hand\">\n            {this.props.cards.map((c, idx) => (\n              <Card\n                key={idx}\n                onClick={() => this.moveCardToKitty(c)}\n                card={c}\n              />\n            ))}\n          </div>\n          <h2>\n            Discarded cards{\" \"}\n            {this.props.state.kitty.length / this.props.state.kitty_size}\n          </h2>\n          <div className=\"kitty\">\n            {this.props.state.kitty.map((c, idx) => (\n              <Card key={idx} onClick={() => this.moveCardToHand(c)} card={c} />\n            ))}\n          </div>\n          <button\n            onClick={this.startGame}\n            disabled={\n              this.props.state.kitty.length != this.props.state.kitty_size\n            }\n          >\n            Start game\n          </button>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <GameMode game_mode={this.props.state.game_mode} />\n          <Players\n            players={this.props.state.players}\n            landlord={this.props.state.landlord}\n            next={this.props.state.landlord}\n            name={this.props.name}\n          />\n          <Trump trump={this.props.state.trump} />\n          <div className=\"hand\">\n            {this.props.cards.map((c, idx) => (\n              <Card key={idx} card={c} />\n            ))}\n          </div>\n          <p>Waiting...</p>\n        </div>\n      );\n    }\n  }\n}\n\ninterface IPlayProps {\n  state: IPlayPhase;\n  name: string;\n  cards: string[];\n  beep_on_turn: boolean;\n  show_last_trick: boolean;\n}\ninterface IPlayState {\n  selected: string[];\n}\nclass Play extends React.Component<IPlayProps, IPlayState> {\n  private was_my_turn: boolean = false;\n\n  constructor(props: IPlayProps) {\n    super(props);\n    this.state = {\n      selected: [],\n    };\n    this.setSelected = this.setSelected.bind(this);\n    this.playCards = this.playCards.bind(this);\n    this.takeBackCards = this.takeBackCards.bind(this);\n    this.endTrick = this.endTrick.bind(this);\n  }\n\n  setSelected(new_selected: string[]) {\n    this.setState({ selected: new_selected });\n  }\n\n  playCards(evt: any) {\n    evt.preventDefault();\n    send({ Action: { PlayCards: this.state.selected } });\n    this.setSelected([]);\n  }\n\n  takeBackCards(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"TakeBackCards\" });\n  }\n\n  endTrick(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"EndTrick\" });\n  }\n\n  startNewGame(evt: any) {\n    evt.preventDefault();\n    send({ Action: \"StartNewGame\" });\n  }\n\n  render() {\n    const next = this.props.state.trick.player_queue[0];\n    let can_take_back = false;\n    let can_play = false;\n    let is_my_turn = false;\n    this.props.state.players.forEach((p) => {\n      if (p.name == this.props.name) {\n        const last_play = this.props.state.trick.played_cards[\n          this.props.state.trick.played_cards.length - 1\n        ];\n        if (p.id == next) {\n          is_my_turn = true;\n          if (last_play) {\n            can_play = this.state.selected.length == last_play.cards.length;\n          } else {\n            can_play = this.state.selected.length > 0;\n          }\n        }\n        if (last_play && p.id == last_play.id) {\n          can_take_back = true;\n        }\n      }\n    });\n    if (this.props.beep_on_turn && is_my_turn && !this.was_my_turn) {\n      beep(3, 440, 200);\n    }\n    this.was_my_turn = is_my_turn;\n\n    return (\n      <div>\n        <GameMode game_mode={this.props.state.game_mode} />\n        <Players\n          players={this.props.state.players}\n          landlord={this.props.state.landlord}\n          landlords_team={this.props.state.landlords_team}\n          name={this.props.name}\n          next={next}\n        />\n        <Trump trump={this.props.state.trump} />\n        <Friends game_mode={this.props.state.game_mode} />\n        <Trick\n          trick={this.props.state.trick}\n          players={this.props.state.players}\n        />\n        <button onClick={this.playCards} disabled={!can_play}>\n          Play selected cards\n        </button>\n        <button onClick={this.takeBackCards} disabled={!can_take_back}>\n          Take back last play\n        </button>\n        <button\n          onClick={this.endTrick}\n          disabled={this.props.state.trick.player_queue.length > 0}\n        >\n          Finish trick\n        </button>\n        {this.props.cards.length == 0 ? (\n          <button onClick={this.startNewGame}>Finish game</button>\n        ) : null}\n        ,\n        <Cards\n          cards={this.props.cards}\n          selected={this.state.selected}\n          setSelected={this.setSelected}\n        />\n        {this.props.state.last_trick && this.props.show_last_trick ? (\n          <div>\n            <p>Previous trick</p>\n            <Trick\n              trick={this.props.state.last_trick}\n              players={this.props.state.players}\n            />\n          </div>\n        ) : null}\n        <Points\n          points={this.props.state.points}\n          players={this.props.state.players}\n          landlords_team={this.props.state.landlords_team}\n        />\n        <LabeledPlay cards={this.props.state.kitty} label=\"底牌\" />\n      </div>\n    );\n  }\n}\n\nclass Trick extends React.Component<{ players: IPlayer[]; trick: ITrick }, {}> {\n  render() {\n    const names_by_id: { [player_id: number]: string } = {};\n    this.props.players.forEach((p) => {\n      names_by_id[p.id] = p.name;\n    });\n    const blank_cards =\n      this.props.trick.played_cards.length > 0\n        ? Array(this.props.trick.played_cards[0].cards.length).fill(\"🂠\")\n        : [\"🂠\"];\n\n    return (\n      <div className=\"trick\">\n        {this.props.trick.played_cards.map((played, idx) => {\n          const winning = this.props.trick.current_winner == played.id;\n          return (\n            <LabeledPlay\n              key={idx}\n              label={\n                winning\n                  ? `${names_by_id[played.id]} (!)`\n                  : names_by_id[played.id]\n              }\n              className={winning ? \"winning\" : \"\"}\n              cards={played.cards}\n            />\n          );\n        })}\n        {this.props.trick.player_queue.map((id, idx) => {\n          return (\n            <LabeledPlay\n              key={idx + this.props.trick.played_cards.length}\n              label={names_by_id[id]}\n              cards={blank_cards}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\ninterface IPointsProps {\n  players: IPlayer[];\n  points: { [player_id: number]: string[] };\n  landlords_team: number[];\n}\nclass Points extends React.Component<IPointsProps, {}> {\n  render() {\n    return e(\n      \"div\",\n      { className: \"points\" },\n      this.props.players.map((player) => {\n        let total_points = 0;\n        this.props.points[player.id].forEach((c) => {\n          total_points += CARD_LUT[c].points;\n        });\n        const className = this.props.landlords_team.includes(player.id)\n          ? \"landlord\"\n          : \"\";\n        const cards =\n          this.props.points[player.id].length > 0\n            ? this.props.points[player.id]\n            : [\"🂠\"];\n        return (\n          <LabeledPlay\n            key={player.id}\n            className={className}\n            label={`${player.name}: ${total_points}分`}\n            cards={cards}\n          />\n        );\n      })\n    );\n  }\n}\n\ninterface ICardsProps {\n  selected: string[];\n  cards: string[];\n  setSelected(new_selected: string[]): void;\n}\nclass Cards extends React.Component<ICardsProps, {}> {\n  constructor(props: ICardsProps) {\n    super(props);\n    this.selectCard = this.selectCard.bind(this);\n    this.unselectCard = this.unselectCard.bind(this);\n  }\n\n  selectCard(card: string) {\n    const new_selected = [...this.props.selected];\n    new_selected.push(card);\n    this.props.setSelected(new_selected);\n  }\n\n  unselectCard(card: string) {\n    const pos = this.props.selected.indexOf(card);\n    if (pos >= 0) {\n      const new_selected = [...this.props.selected];\n      new_selected.splice(pos, 1);\n      this.props.setSelected(new_selected);\n    }\n  }\n\n  render() {\n    const unselected = [...this.props.cards];\n    this.props.selected.forEach((card) => {\n      unselected.splice(unselected.indexOf(card), 1);\n    });\n\n    return e(\n      \"div\",\n      { className: \"hand\" },\n      e(\n        \"div\",\n        { className: \"selected-cards\" },\n        this.props.selected.map((c, idx) =>\n          e(Card, { key: idx, onClick: () => this.unselectCard(c), card: c })\n        ),\n        this.props.selected.length == 0 ? e(Card, { card: \"🂠\" }) : null\n      ),\n      e(\"p\", null, \"Your hand\"),\n      e(\n        \"div\",\n        { className: \"unselected-cards\" },\n        unselected.map((c, idx) =>\n          e(Card, { key: idx, onClick: () => this.selectCard(c), card: c })\n        ),\n        unselected.length == 0 ? e(Card, { card: \"🂠\" }) : null\n      )\n    );\n  }\n}\n\ninterface ICardProps {\n  card: string;\n  onClick?(evt: any): any;\n}\nclass Card extends React.Component<ICardProps, {}> {\n  render() {\n    const c = CARD_LUT[this.props.card];\n    if (!c) {\n      return e(\"span\", { className: \"card unknown\" }, this.props.card);\n    }\n\n    const props: { onClick?(evt: any): any; className: string } = {\n      className: `card ${c.typ}`,\n    };\n    if (this.props.onClick) {\n      props.onClick = this.props.onClick;\n    }\n    return e(\"span\", props, c.display_value);\n  }\n}\n\ninterface ILabeledPlayProps {\n  className?: string;\n  cards: string[];\n  label: string;\n}\nclass LabeledPlay extends React.Component<ILabeledPlayProps, {}> {\n  render() {\n    let className = \"labeled-play\";\n    if (this.props.className) {\n      className = className + \" \" + this.props.className;\n    }\n    return (\n      <div className={className}>\n        <div className=\"play\">\n          {this.props.cards.map((card, idx) => (\n            <Card card={card} key={idx} />\n          ))}\n        </div>\n        <div className=\"label\">this.props.label</div>\n      </div>\n    );\n  }\n}\n\ninterface IJoinRoomProps {\n  name: string;\n  room_name: string;\n  setName(name: string): void;\n}\nclass JoinRoom extends React.Component<IJoinRoomProps, {}> {\n  constructor(props: IJoinRoomProps) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event: any) {\n    this.props.setName(event.target.value);\n  }\n\n  handleSubmit(event: any) {\n    event.preventDefault();\n    if (this.props.name.length > 0) {\n      send({\n        room_name: this.props.room_name,\n        name: this.props.name,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type={\"text\"}\n            placeholder={\"name\"}\n            value={this.props.name}\n            onChange={this.handleChange}\n            autoFocus={true}\n          />\n          <input type=\"submit\" value=\"join\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nclass Trump extends React.Component<{ trump: ITrump }, {}> {\n  render() {\n    if (this.props.trump.Standard) {\n      return (\n        <div className=\"trump\">\n          The trump suit is{\" \"}\n          <span className={this.props.trump.Standard.suit}>\n            {this.props.trump.Standard.suit}\n          </span>\n          , rank {this.props.trump.Standard.number}\n        </div>\n      );\n    } else if (this.props.trump.NoTrump) {\n      return (\n        <div className=\"trump\">\n          No trump, rank {this.props.trump.NoTrump.number}\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\ninterface IKickerProps {\n  players: IPlayer[];\n}\nclass Kicker extends React.Component<IKickerProps, { to_kick: string }> {\n  constructor(props: IKickerProps) {\n    super(props);\n    this.state = {\n      to_kick: \"\",\n    };\n    this.onChange = this.onChange.bind(this);\n    this.kick = this.kick.bind(this);\n  }\n\n  onChange(evt: any) {\n    evt.preventDefault();\n    this.setState({ to_kick: evt.target.value });\n  }\n  kick(evt: any) {\n    evt.preventDefault();\n    send({ Kick: parseInt(this.state.to_kick, 10) });\n  }\n\n  render() {\n    return e(\n      \"div\",\n      { className: \"kicker\" },\n      e(\n        \"select\",\n        { value: this.state.to_kick, onChange: this.onChange },\n        e(\"option\", { value: \"\" }, \"\"),\n        this.props.players.map((player) =>\n          e(\"option\", { value: player.id, key: player.id }, player.name)\n        )\n      ),\n      e(\n        \"button\",\n        { onClick: this.kick, disabled: this.state.to_kick == \"\" },\n        \"kick\"\n      )\n    );\n  }\n}\n\ninterface ILandlordSelectorProps {\n  landlord: number | null;\n  players: IPlayer[];\n}\nclass LandlordSelector extends React.Component<ILandlordSelectorProps, {}> {\n  constructor(props: ILandlordSelectorProps) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(evt: any) {\n    evt.preventDefault();\n\n    if (evt.target.value != \"\") {\n      send({ Action: { SetLandlord: parseInt(evt.target.value, 10) } });\n    } else {\n      send({ Action: { SetLandlord: null } });\n    }\n  }\n\n  render() {\n    return e(\n      \"div\",\n      { className: \"landlord-picker\" },\n      e(\n        \"label\",\n        null,\n        \"leader: \",\n        e(\n          \"select\",\n          {\n            value: this.props.landlord != null ? this.props.landlord : \"\",\n            onChange: this.onChange,\n          },\n          e(\"option\", { value: \"\" }, \"winner of the bid\"),\n          this.props.players.map((player) =>\n            e(\"option\", { value: player.id, key: player.id }, player.name)\n          )\n        )\n      )\n    );\n  }\n}\n\ninterface INumDecksSelectorProps {\n  num_decks: number | null;\n  players: IPlayer[];\n}\nclass NumDecksSelector extends React.Component<INumDecksSelectorProps, {}> {\n  constructor(props: INumDecksSelectorProps) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(evt: any) {\n    evt.preventDefault();\n\n    if (evt.target.value != \"\") {\n      send({ Action: { SetNumDecks: parseInt(evt.target.value, 10) } });\n    } else {\n      send({ Action: { SetNumDecks: null } });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"num-decks-picker\">\n        <label>\n          number of decks:{\" \"}\n          <select\n            value={this.props.num_decks != null ? this.props.num_decks : \"\"}\n            onChange={this.onChange}\n          >\n            <option value=\"\">default</option>\n            {Array(this.props.players.length)\n              .fill(0)\n              .map((_, idx) => {\n                const val = idx + 1;\n                return (\n                  <option value={val} key={idx}>\n                    {val}\n                  </option>\n                );\n              })}\n          </select>\n        </label>\n      </div>\n    );\n  }\n}\n\ninterface IRankSelectorProps {\n  num_decks: number | null;\n  players: IPlayer[];\n  name: string;\n}\nclass RankSelector extends React.Component<IRankSelectorProps, {}> {\n  constructor(props: IRankSelectorProps) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(evt: any) {\n    evt.preventDefault();\n\n    if (evt.target.value != \"\") {\n      send({ Action: { SetRank: evt.target.value } });\n    }\n  }\n\n  render() {\n    let rank = \"\";\n    this.props.players.forEach((p) => {\n      if (p.name == this.props.name) {\n        rank = p.level;\n      }\n    });\n    return (\n      <div className=\"landlord-picker\">\n        <label>\n          rank:{\" \"}\n          <select value={rank} onChange={this.onChange}>\n            {[\n              \"2\",\n              \"3\",\n              \"4\",\n              \"5\",\n              \"6\",\n              \"7\",\n              \"8\",\n              \"9\",\n              \"10\",\n              \"J\",\n              \"K\",\n              \"Q\",\n              \"A\",\n            ].map((rank) => (\n              <option value={rank} key={rank}>\n                {rank}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n    );\n  }\n}\n\ninterface IPlayersProps {\n  players: IPlayer[];\n  landlord?: number | null;\n  landlords_team?: number[];\n  movable?: boolean;\n  next?: number | null;\n  name: string;\n}\nclass Players extends React.Component<IPlayersProps, {}> {\n  movePlayerLeft(evt: any, player_id: number) {\n    evt.preventDefault();\n    const player_ids = this.props.players.map((p) => p.id);\n    const index = player_ids.indexOf(player_id);\n    if (index > 0) {\n      const p = player_ids[index];\n      player_ids[index] = player_ids[index - 1];\n      player_ids[index - 1] = p;\n    } else {\n      const p = player_ids[index];\n      player_ids[index] = player_ids[player_ids.length - 1];\n      player_ids[player_ids.length - 1] = p;\n    }\n    send({ Action: { ReorderPlayers: player_ids } });\n  }\n\n  movePlayerRight(evt: any, player_id: number) {\n    evt.preventDefault();\n    const player_ids = this.props.players.map((p) => p.id);\n    const index = player_ids.indexOf(player_id);\n    if (index < player_ids.length - 1) {\n      const p = player_ids[index];\n      player_ids[index] = player_ids[index + 1];\n      player_ids[index + 1] = p;\n    } else {\n      const p = player_ids[index];\n      player_ids[index] = player_ids[0];\n      player_ids[0] = p;\n    }\n    send({ Action: { ReorderPlayers: player_ids } });\n  }\n\n  render() {\n    return e(\n      \"table\",\n      { className: \"players\" },\n      e(\n        \"tbody\",\n        null,\n        e(\n          \"tr\",\n          null,\n          this.props.players.map((player) => {\n            let className = \"player\";\n            let descriptor = `${player.name} (rank ${player.level})`;\n\n            if (player.id == this.props.landlord) {\n              descriptor = descriptor + \" (当庄)\";\n            }\n            if (player.name == this.props.name) {\n              descriptor = descriptor + \" (You!)\";\n            }\n            if (\n              player.id == this.props.landlord ||\n              (this.props.landlords_team &&\n                this.props.landlords_team.includes(player.id))\n            ) {\n              className = className + \" landlord\";\n            }\n            if (player.id == this.props.next) {\n              className = className + \" next\";\n            }\n\n            return e(\n              \"td\",\n              { key: player.id, className: className },\n              this.props.movable\n                ? e(\n                    \"button\",\n                    {\n                      onClick: (evt: any) =>\n                        this.movePlayerLeft(evt, player.id),\n                    },\n                    \"<\"\n                  )\n                : null,\n              descriptor,\n              this.props.movable\n                ? e(\n                    \"button\",\n                    {\n                      onClick: (evt: any) =>\n                        this.movePlayerRight(evt, player.id),\n                    },\n                    \">\"\n                  )\n                : null\n            );\n          })\n        )\n      )\n    );\n  }\n}\n\ninterface IChatProps {\n  messages: { from: string; message: string; from_game?: boolean }[];\n}\ninterface IChatState {\n  message: string;\n}\nclass Chat extends React.Component<IChatProps, IChatState> {\n  private anchor = React.createRef<HTMLDivElement>();\n\n  constructor(props: IChatProps) {\n    super(props);\n    this.state = { message: \"\" };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.anchor.current) {\n      this.anchor.current.scrollIntoView({ block: \"nearest\", inline: \"start\" });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.anchor.current) {\n      this.anchor.current.scrollIntoView({ block: \"nearest\", inline: \"start\" });\n    }\n  }\n\n  handleChange(event: any) {\n    this.setState({ message: event.target.value });\n  }\n\n  handleSubmit(event: any) {\n    event.preventDefault();\n    if (this.state.message.length > 0) {\n      send({\n        Message: this.state.message,\n      });\n    }\n    this.setState({ message: \"\" });\n  }\n\n  render() {\n    return (\n      <div className=\"chat\">\n        <div className=\"messages\">\n          {this.props.messages.map((m, idx) => {\n            let className = \"message\";\n            if (m.from_game) {\n              className = className + \" game-message\";\n            }\n            return (\n              <p key={idx} className={className}>\n                {m.from}: {m.message}\n              </p>\n            );\n          })}\n          <div className=\"chat-anchor\" ref={this.anchor} />\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"type message here\"\n            value={this.state.message}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" value=\"submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nclass GameMode extends React.Component<{ game_mode: IGameMode }, {}> {\n  render() {\n    if (this.props.game_mode == \"Tractor\") {\n      return <h1>升级 / Tractor</h1>;\n    } else {\n      return <h1>找朋友 / Finding Friends</h1>;\n    }\n  }\n}\n\nclass Friends extends React.Component<{ game_mode: IGameMode }, {}> {\n  render() {\n    if (this.props.game_mode != \"Tractor\") {\n      return e(\n        \"div\",\n        { className: \"pending-friends\" },\n        this.props.game_mode.FindingFriends.friends.map((friend, idx) => {\n          if (friend.player_id != null) {\n            return null;\n          }\n\n          const c = CARD_LUT[friend.card];\n          if (!c) {\n            return null;\n          }\n          const card = `${c.number}${c.typ}`;\n          if (friend.skip == 0) {\n            return e(\n              \"p\",\n              { key: idx },\n              \"The next person to play \",\n              e(\"span\", { className: c.typ }, `${c.number}${c.typ}`),\n              \" is a friend\"\n            );\n          } else {\n            return e(\n              \"p\",\n              { key: idx },\n              `${friend.skip} `,\n              e(\"span\", { className: c.typ }, `${c.number}${c.typ}`),\n              \" can be played before the next person to play \",\n              e(\"span\", { className: c.typ }, `${c.number}${c.typ}`),\n              \" is a friend\"\n            );\n          }\n        })\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\ninterface IFriendSelectProps {\n  friend: IFriend;\n  trump: ITrump;\n  num_decks: number;\n  onChange(input: any): any;\n}\nclass FriendSelect extends React.Component<IFriendSelectProps, {}> {\n  constructor(props: IFriendSelectProps) {\n    super(props);\n    this.onCardChange = this.onCardChange.bind(this);\n    this.onOrdinalChange = this.onOrdinalChange.bind(this);\n  }\n\n  onCardChange(evt: any) {\n    evt.preventDefault();\n    this.props.onChange({\n      card: evt.target.value,\n      skip: this.props.friend.skip,\n    });\n  }\n  onOrdinalChange(evt: any) {\n    evt.preventDefault();\n    this.props.onChange({\n      card: this.props.friend.card,\n      skip: parseInt(evt.target.value, 10),\n    });\n  }\n\n  render() {\n    const number = this.props.trump.Standard\n      ? this.props.trump.Standard.number\n      : this.props.trump.NoTrump?.number;\n    return e(\n      \"div\",\n      { className: \"friend-select\" },\n      e(\n        \"select\",\n        { value: this.props.friend.card, onChange: this.onCardChange },\n        e(\"option\", { value: \"\" }, \" \"),\n        CARDS.map((c) => {\n          return c.number != null && c.number != number\n            ? e(\n                \"option\",\n                { key: c.value, value: c.value },\n                `${c.number}${c.typ}`\n              )\n            : null;\n        })\n      ),\n      e(\n        \"select\",\n        { value: this.props.friend.skip, onChange: this.onOrdinalChange },\n        Array(this.props.num_decks)\n          .fill(1)\n          .map((_, idx) => {\n            return e(\"option\", { key: idx, value: idx }, idx + 1);\n          })\n      )\n    );\n  }\n}\n\nclass Errors extends React.Component<{ errors: string[] }, {}> {\n  render() {\n    return e(\n      \"div\",\n      { className: \"errors\" },\n      this.props.errors.map((err, idx) =>\n        e(\"p\", { key: idx }, e(\"code\", null, err))\n      )\n    );\n  }\n}\n\nif (window.location.hash.length != 17) {\n  var arr = new Uint8Array(8);\n  window.crypto.getRandomValues(arr);\n  const r = Array.from(arr, (d) => (\"0\" + d.toString(16)).substr(-2)).join(\"\");\n  window.location.hash = r;\n}\n\nconst uri =\n  (location.protocol == \"https:\" ? \"wss://\" : \"ws://\") +\n  location.host +\n  location.pathname +\n  (location.pathname.endsWith(\"/\") ? \"api\" : \"/api\");\nconst ws = new WebSocket(uri);\n\ninterface State {\n  connected: boolean;\n  room_name: string;\n  name: string;\n  game_state: IGameState | null;\n  four_color: boolean;\n  beep_on_turn: boolean;\n  show_last_trick: boolean;\n  cards: string[];\n  errors: string[];\n  messages: { from: string; message: string; from_game: boolean }[];\n}\n\nlet state: State = {\n  connected: false,\n  room_name: window.location.hash.slice(1),\n  name: window.localStorage.getItem(\"name\") || \"\",\n  game_state: null,\n  four_color: window.localStorage.getItem(\"four_color\") == \"on\" || false,\n  beep_on_turn: window.localStorage.getItem(\"beep_on_turn\") == \"on\" || false,\n  show_last_trick:\n    window.localStorage.getItem(\"show_last_trick\") == \"on\" || false,\n  cards: [],\n  errors: [],\n  messages: [],\n};\n\nfunction send(value: any) {\n  ws.send(JSON.stringify(value));\n}\n\nfunction renderUI() {\n  if (state.connected) {\n    if (state.game_state == null) {\n      ReactDOM.render(\n        e(\n          \"div\",\n          null,\n          e(\"h2\", null, `Room Name: ${state.room_name}`),\n          e(Errors, { errors: state.errors }),\n          e(JoinRoom, {\n            name: state.name,\n            room_name: state.room_name,\n            setName: (name: string) => {\n              state.name = name;\n              window.localStorage.setItem(\"name\", name);\n              renderUI();\n            },\n          })\n        ),\n        document.getElementById(\"root\")\n      );\n    } else {\n      ReactDOM.render(\n        e(\n          \"div\",\n          { className: state.four_color ? \"four-color\" : \"\" },\n          e(Errors, { errors: state.errors }),\n          e(\n            \"div\",\n            { className: \"game\" },\n            state.game_state.Initialize\n              ? e(Initialize, {\n                  state: state.game_state.Initialize,\n                  cards: state.cards,\n                  name: state.name,\n                })\n              : null,\n            state.game_state.Draw\n              ? e(Draw, {\n                  state: state.game_state.Draw,\n                  cards: state.cards,\n                  name: state.name,\n                })\n              : null,\n            state.game_state.Exchange\n              ? e(Exchange, {\n                  state: state.game_state.Exchange,\n                  cards: state.cards,\n                  name: state.name,\n                })\n              : null,\n            state.game_state.Play\n              ? e(Play, {\n                  state: state.game_state.Play,\n                  cards: state.cards,\n                  name: state.name,\n                  show_last_trick: state.show_last_trick,\n                  beep_on_turn: state.beep_on_turn,\n                })\n              : null,\n            state.game_state.Done ? e(\"p\", null, \"Game over\") : null\n          ),\n          e(Chat, { messages: state.messages }),\n          e(\"hr\", null),\n          e(\n            \"div\",\n            { className: \"settings\" },\n            e(\n              \"label\",\n              null,\n              \"four-color mode\",\n              e(\"input\", {\n                name: \"four-color\",\n                type: \"checkbox\",\n                checked: state.four_color,\n                onChange: (evt) => {\n                  state.four_color = evt.target.checked;\n                  if (state.four_color) {\n                    window.localStorage.setItem(\"four_color\", \"on\");\n                  } else {\n                    window.localStorage.setItem(\"four_color\", \"off\");\n                  }\n                  renderUI();\n                },\n              })\n            ),\n            e(\n              \"label\",\n              null,\n              \"show last trick\",\n              e(\"input\", {\n                name: \"show-last-trick\",\n                type: \"checkbox\",\n                checked: state.show_last_trick,\n                onChange: (evt) => {\n                  state.show_last_trick = evt.target.checked;\n                  if (state.show_last_trick) {\n                    window.localStorage.setItem(\"show_last_trick\", \"on\");\n                  } else {\n                    window.localStorage.setItem(\"show_last_trick\", \"off\");\n                  }\n                  renderUI();\n                },\n              })\n            ),\n            e(\n              \"label\",\n              null,\n              \"beep on turn\",\n              e(\"input\", {\n                name: \"show-last-trick\",\n                type: \"checkbox\",\n                checked: state.beep_on_turn,\n                onChange: (evt) => {\n                  state.beep_on_turn = evt.target.checked;\n                  if (state.beep_on_turn) {\n                    window.localStorage.setItem(\"beep_on_turn\", \"on\");\n                  } else {\n                    window.localStorage.setItem(\"beep_on_turn\", \"off\");\n                  }\n                  renderUI();\n                },\n              })\n            )\n          )\n        ),\n        document.getElementById(\"root\")\n      );\n    }\n  } else {\n    ReactDOM.render(\n      <p>disconnected from server, please refresh</p>,\n      document.getElementById(\"root\")\n    );\n  }\n}\n\nws.onopen = () => {\n  state.connected = true;\n  renderUI();\n};\nws.onclose = (evt) => {\n  state.connected = false;\n  renderUI();\n};\nws.onmessage = (event) => {\n  const msg = JSON.parse(event.data);\n  if (msg.Message) {\n    state.messages.push(msg.Message);\n    if (state.messages.length >= 100) {\n      state.messages.shift();\n    }\n  }\n  if (msg.Broadcast) {\n    state.messages.push({\n      from: \"GAME\",\n      message: msg.Broadcast,\n      from_game: true,\n    });\n    if (state.messages.length >= 100) {\n      state.messages.shift();\n    }\n  }\n\n  if (msg.Error) {\n    state.errors.push(msg.Error);\n    setTimeout(() => {\n      state.errors = state.errors.filter((v) => v != msg.Error);\n      renderUI();\n    }, 5000);\n  }\n\n  if (msg.State) {\n    state.game_state = msg.State.state;\n    state.cards = msg.State.cards;\n  }\n\n  if (msg == \"Kicked\") {\n    ws.close();\n  }\n\n  renderUI();\n};\n\nlet beepContext: AudioContext | null = null;\n\nfunction beep(vol: number, freq: number, duration: number) {\n  if (!beepContext) {\n    beepContext = new AudioContext();\n  }\n  const v = beepContext.createOscillator();\n  const u = beepContext.createGain();\n  v.connect(u);\n  v.frequency.value = freq;\n  v.type = \"square\";\n  u.connect(beepContext.destination);\n  u.gain.value = vol * 0.01;\n  v.start(beepContext.currentTime);\n  v.stop(beepContext.currentTime + duration * 0.001);\n}\n\ndeclare var CARDS: ICardInfo[];\n\ninterface ICardInfo {\n  value: string;\n  display_value: string;\n  typ: string;\n  number: string | null;\n  points: number;\n}\n\ninterface IPlayer {\n  id: number;\n  name: string;\n  level: string;\n}\n\ntype IGameMode = \"Tractor\" | { FindingFriends: IFindingFriends };\ninterface IFindingFriends {\n  num_friends: number;\n  friends: [IFriend];\n}\n\ninterface IFriend {\n  card: string;\n  skip: number;\n  player_id: number | null;\n}\n\ninterface IGameState {\n  Initialize: IInitializePhase | null;\n  Draw: IDrawPhase | null;\n  Exchange: IExchangePhase | null;\n  Play: IPlayPhase | null;\n  Done: string | null;\n}\n\ninterface IInitializePhase {\n  max_player_id: number;\n  players: IPlayer[];\n  num_decks: number | null;\n  kitty_size: number | null;\n  game_mode: IGameMode;\n  landlord: number | null;\n}\n\ninterface IBid {\n  id: number;\n  card: string;\n  count: number;\n}\n\ninterface IDrawPhase {\n  max_player_id: number;\n  num_decks: number;\n  game_mode: IGameMode;\n  deck: string[];\n  players: IPlayer[];\n  observers: IPlayer[];\n  hands: IHands;\n  bids: IBid[];\n  position: number;\n  landlord: number | null;\n  kitty: string[];\n  level: number;\n}\n\ninterface IExchangePhase {\n  max_player_id: number;\n  num_decks: number;\n  game_mode: IGameMode;\n  hands: IHands;\n  kitty: string[];\n  kitty_size: number;\n  landlord: number;\n  players: IPlayer[];\n  observers: IPlayer[];\n  trump: ITrump;\n}\n\ninterface IPlayPhase {\n  max_player_id: number;\n  num_decks: number;\n  game_mode: IGameMode;\n  hands: IHands;\n  points: { [id: number]: string[] };\n  kitty: string[];\n  landlord: number;\n  landlords_team: number[];\n  players: IPlayer[];\n  observers: IPlayer[];\n  trump: ITrump;\n  trick: ITrick;\n  last_trick: ITrick | null;\n}\n\ninterface ITrickUnit {\n  Tractor: { count: number; members: string[] } | null;\n  Repeated: { count: number; card: string } | null;\n}\n\ninterface ITrickFormat {\n  suit: string;\n  trump: ITrump;\n  units: [ITrickUnit];\n}\n\ninterface ITrick {\n  player_queue: number[];\n  played_cards: { id: number; cards: string[] }[];\n  current_winner: number | null;\n  trick_format: ITrickFormat | null;\n  trump: ITrump;\n}\n\ninterface IHands {\n  hands: { [player_id: number]: { [card: string]: number } };\n  level: number;\n  trump: ITrump | null;\n}\n\ninterface ITrump {\n  Standard: { suit: string; number: string } | null;\n  NoTrump: { number: string } | null;\n}\n"],"sourceRoot":""}